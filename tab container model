package com.example.models;

import org.apache.sling.api.resource.Resource;
import org.apache.sling.models.annotations.DefaultInjectionStrategy;
import org.apache.sling.models.annotations.Model;
import org.apache.sling.models.annotations.injectorspecific.ChildResource;
import org.apache.sling.models.annotations.injectorspecific.ValueMapValue;

import javax.annotation.PostConstruct;
import java.util.List;

@Model(adaptables = Resource.class, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)
public class TabColumnContainer {

    @ValueMapValue
    private String title;

    @ChildResource
    private List<Tab> tabs;

    @PostConstruct
    protected void init() {
        // Initialization logic if needed
    }

    public String getTitle() {
        return title;
    }

    public List<Tab> getTabs() {
        return tabs;
    }

    @Model(adaptables = Resource.class, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)
    public static class Tab {

        @ValueMapValue
        private String title;

        @ChildResource
        private List<Report> tabDetails;

        public String getTitle() {
            return title;
        }

        public List<Report> getTabDetails() {
            return tabDetails;
        }
    }

    @Model(adaptables = Resource.class, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)
    public static class Report {

        @ValueMapValue
        private String reportId;

        @ValueMapValue
        private String linkTitle;

        @ValueMapValue
        private String linkUrl;

        @ValueMapValue
        private boolean isTheLinkExternal;

        public String getReportId() {
            return reportId;
        }

        public String getLinkTitle() {
            return linkTitle;
        }

        public String getLinkUrl() {
            return linkUrl;
        }

        public boolean isTheLinkExternal() {
            return isTheLinkExternal;
        }
    }
}
